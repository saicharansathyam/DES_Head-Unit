[Unit]
Description=Mock Settings D-Bus Service
Documentation=man:mock-settings(1)
After=dbus.service
Requires=dbus.service
Before=application-framework-manager.service

[Service]
Type=dbus
BusName=com.headunit.Settings
ExecStart=/usr/bin/mock-settings-service
Restart=always
RestartSec=3
TimeoutStartSec=10

# Environment
Environment="DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/0/bus"
Environment="XDG_RUNTIME_DIR=/run/user/0"

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=mock-settings

# Security
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
